getwd()
setwd("C:/Users/Bhavna/Desktop/Data_science/Rstatistics")
install.packages("tidyverse")
library(dplyr)
library(tidyr)
getwd()
setwd("C:/Users/Bhavna/Desktop/Data_science/capstone_project")


#==================
#DATA WRANGLING
#===================
#Load and examin the datset 
cust.df <- read.csv("http://goo.gl/PmPkaG")
str(cust.df)

#find columns with missing values 
colSums(is.na(cust.df))
#replace missing satisfaction service/selection values with mean
cust.df$sat.service[is.na(cust.df$sat.service)] = round (mean(cust.df$sat.service, na.rm = TRUE)) 
cust.df$sat.selection[is.na(cust.df$sat.selection)] = round (mean(cust.df$sat.selection, na.rm = TRUE)) 
#change email into a binary variable 
#Make two new columns 'total.spend' that contains a sum of online and store spending for each customer,
#total.trans that is the sum of online.trans and store.trans
#and average spending ammount by customers: online and instore
table(cust.df$email)
cust.df<- cust.df %>% mutate(email = ifelse(email == "yes",1,0)) 
cust.df<- cust.df %>% mutate(total.spend = (online.spend + store.spend)) %>% 
mutate(total.trans = (online.trans+store.trans)) 
str(cust.df)